dist: trusty
language: python

python:
  - "3.6"
cache: pip

env:
  - LANG=en_GB.UTF-8
  - PIPENV_IGNORE_VIRTUALENVS=1

before_install:
  - sudo add-apt-repository -y ppa:0k53d-karl-f830m/openssl
  - sudo apt-get -y update && sudo apt-get -y install openssl

install:
  - pip install pipenv
  - pipenv install --dev
  - bash bin/compile-translations

script:
  - pipenv run pytest -v --cov=squeezealexa --cov-report=term
  - pipenv run flake8 --statistics .

after_success:
  - pipenv run coveralls
